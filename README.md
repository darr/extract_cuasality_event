# extract_cuasality_event
template based causality event extraction   
基于因果关系知识库的因果事件图谱构建  

# How to run?

```shell
bash run.sh
```

This command will create the environment that needed by the models.  
This project is created on the purposes of easy-on-run.  
If you want to know the details about the models, just read code.  

# result

```shell
************************
cause 5·12汶川地震共
tag 造成
effect 69227人死亡
************************
cause 截至2008年9月18日12时，5·12汶川地震共
tag 造成
effect 69227人死亡，374643人受伤，17923人失踪，是中华人民共和国成立以来破坏力最大的地震，也是唐山大地震后伤亡最严重的一次地震。
************************
cause 发生规模约10万立方米,
tag 导致
effect 多辆车被埋
************************
cause 2015年1月4日下午3时39分左右，贵州省遵义市习水县二郎乡遵赤高速二郎乡往仁怀市方向路段发生山体滑坡，发生规模约10万立方米,导致多辆车被埋，
tag 造成
effect 交通双向中断。
************************
cause 此事故
tag 引起
effect 贵州省委、省政府的高度重视
************************
cause 此事故
tag 引起
effect 贵州省委、省政府的高度重视，省长陈敏尔作出指示，要求迅速组织开展救援工作，千方百计实施救援，减少人员伤亡和财物损失。
************************
cause 灾害已
tag 造成
effect 3人遇难1人受伤
************************
cause 目前，灾害已
tag 造成
effect 3人遇难1人受伤，一辆轿车被埋。
************************
cause 但由于尸体处理不当
tag 导致
effect 饮用水源受到污染
************************
cause 灾民喝了受污染的水后
tag 引发
effect 霍乱
************************
cause 虽然国际社会在灾后纷纷向海地提供援助，但由于尸体处理不当导致饮用水源受到污染，灾民喝了受污染的水后引发霍乱，
tag 已致
effect 至少2500多人死亡。
************************
cause AmericanEagle四季度符合预期华尔街对其毛利率不满
tag 导致
effect 股价大跌
************************
cause AmericanEagle四季度符合预期华尔街对其毛利率不满
tag 导致
effect 股价大跌
************************
cause 我没有好好学习。
tag 之所以-因为
effect 考试没及格，是
************************
cause 天晴了，
tag 因为-所以
effect 我今天晒被子。
************************
cause 下雪了，
tag 因为-所以
effect 路上的行人很少。
************************
cause 早上没吃的缘故，
tag 因为-所以
effect 今天还没到放学我就饿了.
************************
cause 小华身体不舒服，
tag 因为-所以
effect 她没上课间操。
************************
cause 我昨晚没睡好，
tag 因为-所以
effect 今天感觉很疲倦。
************************
cause 李明学习刻苦，
tag 因为-所以
effect 其成绩一直很优秀。
************************
cause 它没有专一的目标，也不能持之以恒。
tag 之所以-因为
effect 不能把石块滴穿，是
************************
cause 他平时不努力学习。
tag 之所以-因为
effect 成绩不好，是
************************
cause 你没有学好关联词的用法。
tag 之所以-因为
effect 提这个问题，是
************************
cause 减了税
tag 因此
effect 怨声也少些了。
************************
cause 减了税
tag 因此
effect 怨声也少些了。
************************
cause 他的话引得大家都笑了
tag 因此
effect 轻松了很多。
************************
cause 他努力学习
tag 因此
effect 通过了考试。
************************
cause 明天要下雨
tag 既然
effect 就不要再出去玩。
************************
cause 他还是那么固执
tag 既然
effect 就不要过多的与他辩论。
************************
cause 别人的事与你无关
tag 既然
effect 你就不要再去过多的干涉。
************************
cause 梦想实现不了
tag 既然
effect 就换一个你自己喜欢的梦想吧。
************************
cause 别人需要你
tag 既然
effect 你就去尽力的帮助别人。
************************
cause 生命突显不出价值
tag 既然
effect 就去追求自己想要的生活吧。
************************
cause 别人不尊重你
tag 既然
effect 就不要尊重别人。
************************
cause 题目难做，就不要用太多的时间去想
tag 既然
effect 问一问他人也许会更好。
************************
cause 我们是学生
tag 既然
effect 就要遵守学生的基本规范
```

# 项目介绍

现实社会是个逻辑社会，大量的逻辑即逻辑经验存在于我们的脑海中，  
而这些逻辑经验是无法穷举出来的，靠大量人工的总结，显然不切实际。  
然而，幸好人类将这种逻辑用文字表达出来了，  
这为我们利用自然语言处理技术实现这种因果逻辑的抽取提供了可能性。  
本项目并没有将深度学习技术应用于因果事件抽取当中，  
而以构造和总结因果模板，结合中文语言特点，构建因果语言知识库的方式代替。  
本项目是对因果事件抽取以及因果知识图谱构建的一种尝试。  

# 技术路线
因果事件图谱技术流程上遵循以下流程：    
![image](./image/schema.jpg)

主要包括以下几个步骤：  
1、因果知识库的构建。因果知识库的构建包括因果连词库，结果词库、因果模式库等。  
2、文本预处理。这个包括对文本进行噪声移除，非关键信息去除等。  
3、因果事件抽取。这个包括基于因果模式库的因果对抽取。  
4、事件表示。这是整个因果图谱构建的核心问题，因为事件图谱本质上是联通的，如何选择一种恰当（短语、短句、句子主干）等方式很重要。  
5、事件融合。事件融合跟知识图谱中的实体对齐任务很像  
6、事件存储。事件存储是最后步骤，基于业务需求，可以用相应的数据库进行存储，比如图数据库等。    

# 最终效果
经过以上几个流程之后，可以支持各类查询，  
比如已知原因找结果，已知结果找原因等，这都很有事情，  
总之，数据库有了，我们可以做的事情有很多，接下来就是我们脑洞的事情了。  
接下来以以下几个事件在因果知识库中查询一把：  
以上几个图展示了输入既定事件在数据库中相似的事件（一度），相似事件导致的结果（二度节点）。  

# 范冰冰偷税漏税事件
![image](./image/fangbingbing.png)

# 美国攻打伊拉克事件
![image](./image/gongda.png)

# 寿光发生洪水事件
![image](./image/shouguang.png)

# 总结
1）基于规则这套，很实用，但问题不少，规则维护比较多  
2）事件表示这块一定要好好想想啊  
3）事件融合这块，利用各种相似度度量进行计算，都有一定缺陷  
